{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/savvy/PersonalProjects/uber/screens/OrderCompleted.js\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { useSelector } from 'react-redux';\nimport LottieView from 'lottie-react-native';\nimport MenuItems from \"../components/restaurantDetail/MenuItems\";\nexport default function OrderCompleted() {\n  var _useState = useState({\n    items: [{\n      title: 'Bologna',\n      description: 'With butter lettuce, tomato and sauce bechamel',\n      price: '$13.50',\n      image: 'https://www.modernhoney.com/wp-content/uploads/2019/08/Classic-Lasagna-14-scaled.jpg'\n    }]\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      lastOrder = _useState2[0],\n      setLastOrder = _useState2[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.cartReducer.selectedItems;\n  }),\n      items = _useSelector.items,\n      restaurantName = _useSelector.restaurantName;\n\n  var total = items.map(function (item) {\n    return Number(item.price.replace('$', ''));\n  }).reduce(function (prev, curr) {\n    return prev + curr;\n  }, 0);\n  var totalUSD = total.toLocaleString('en', {\n    style: 'currency',\n    currency: 'USD'\n  });\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      margin: 15,\n      alignItems: 'center',\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, React.createElement(LottieView, {\n    style: {\n      height: 100,\n      alignSelf: 'center',\n      marginBottom: 30\n    },\n    source: require(\"../assets/animations/check-mark.json\"),\n    autoPlay: true,\n    speed: 0.5,\n    loop: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Your order at \", restaurantName, \" has been placed for \", totalUSD), React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, React.createElement(MenuItems, {\n    foods: lastOrder.items,\n    hideCheckbox: true,\n    marginLeft: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), React.createElement(LottieView, {\n    style: {\n      height: 200,\n      alignSelf: 'center'\n    },\n    source: require(\"../assets/animations/cooking.json\"),\n    autoPlay: true,\n    speed: 0.5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"names":["React","useEffect","useState","useSelector","LottieView","MenuItems","OrderCompleted","items","title","description","price","image","lastOrder","setLastOrder","state","cartReducer","selectedItems","restaurantName","total","map","item","Number","replace","reduce","prev","curr","totalUSD","toLocaleString","style","currency","flex","backgroundColor","margin","alignItems","height","alignSelf","marginBottom","require","fontSize","fontWeight"],"sources":["/Users/savvy/PersonalProjects/uber/screens/OrderCompleted.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, SafeAreaView, ScrollView } from 'react-native';\nimport { useSelector } from 'react-redux';\nimport LottieView from 'lottie-react-native';\nimport MenuItems from '../components/restaurantDetail/MenuItems';\n\nexport default function OrderCompleted() {\n  const [lastOrder, setLastOrder] = useState({\n    items: [\n      {\n        title: 'Bologna',\n        description: 'With butter lettuce, tomato and sauce bechamel',\n        price: '$13.50',\n        image:\n          'https://www.modernhoney.com/wp-content/uploads/2019/08/Classic-Lasagna-14-scaled.jpg',\n      },\n    ],\n  });\n\n  const { items, restaurantName } = useSelector(\n    (state) => state.cartReducer.selectedItems\n  );\n\n  const total = items\n    .map((item) => Number(item.price.replace('$', '')))\n    .reduce((prev, curr) => prev + curr, 0);\n\n  const totalUSD = total.toLocaleString('en', {\n    style: 'currency',\n    currency: 'USD',\n  });\n\n  // useEffect(() => {\n  //   const db = firebase.firestore();\n  //   const unsubscribe = db\n  //     .collection(\"orders\")\n  //     .orderBy(\"createdAt\", \"desc\")\n  //     .limit(1)\n  //     .onSnapshot((snapshot) => {\n  //       snapshot.docs.map((doc) => {\n  //         setLastOrder(doc.data());\n  //       });\n  //     });\n\n  //   return () => unsubscribe();\n  // }, []);\n\n  return (\n    <SafeAreaView style={{ flex: 1, backgroundColor: 'white' }}>\n      {/* green checkmark */}\n      <View\n        style={{\n          margin: 15,\n          alignItems: 'center',\n          height: '100%',\n        }}>\n        <LottieView\n          style={{ height: 100, alignSelf: 'center', marginBottom: 30 }}\n          source={require('../assets/animations/check-mark.json')}\n          autoPlay\n          speed={0.5}\n          loop={false}\n        />\n        <Text style={{ fontSize: 20, fontWeight: 'bold' }}>\n          Your order at {restaurantName} has been placed for {totalUSD}\n        </Text>\n        <ScrollView>\n          <MenuItems\n            foods={lastOrder.items}\n            hideCheckbox={true}\n            marginLeft={10}\n          />\n          <LottieView\n            style={{ height: 200, alignSelf: 'center' }}\n            source={require('../assets/animations/cooking.json')}\n            autoPlay\n            speed={0.5}\n          />\n        </ScrollView>\n      </View>\n    </SafeAreaView>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;AAEA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,SAAP;AAEA,eAAe,SAASC,cAAT,GAA0B;EACvC,gBAAkCJ,QAAQ,CAAC;IACzCK,KAAK,EAAE,CACL;MACEC,KAAK,EAAE,SADT;MAEEC,WAAW,EAAE,gDAFf;MAGEC,KAAK,EAAE,QAHT;MAIEC,KAAK,EACH;IALJ,CADK;EADkC,CAAD,CAA1C;EAAA;EAAA,IAAOC,SAAP;EAAA,IAAkBC,YAAlB;;EAYA,mBAAkCV,WAAW,CAC3C,UAACW,KAAD;IAAA,OAAWA,KAAK,CAACC,WAAN,CAAkBC,aAA7B;EAAA,CAD2C,CAA7C;EAAA,IAAQT,KAAR,gBAAQA,KAAR;EAAA,IAAeU,cAAf,gBAAeA,cAAf;;EAIA,IAAMC,KAAK,GAAGX,KAAK,CAChBY,GADW,CACP,UAACC,IAAD;IAAA,OAAUC,MAAM,CAACD,IAAI,CAACV,KAAL,CAAWY,OAAX,CAAmB,GAAnB,EAAwB,EAAxB,CAAD,CAAhB;EAAA,CADO,EAEXC,MAFW,CAEJ,UAACC,IAAD,EAAOC,IAAP;IAAA,OAAgBD,IAAI,GAAGC,IAAvB;EAAA,CAFI,EAEyB,CAFzB,CAAd;EAIA,IAAMC,QAAQ,GAAGR,KAAK,CAACS,cAAN,CAAqB,IAArB,EAA2B;IAC1CC,KAAK,EAAE,UADmC;IAE1CC,QAAQ,EAAE;EAFgC,CAA3B,CAAjB;EAoBA,OACE,oBAAC,YAAD;IAAc,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAR;MAAWC,eAAe,EAAE;IAA5B,CAArB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEE,oBAAC,IAAD;IACE,KAAK,EAAE;MACLC,MAAM,EAAE,EADH;MAELC,UAAU,EAAE,QAFP;MAGLC,MAAM,EAAE;IAHH,CADT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAME,oBAAC,UAAD;IACE,KAAK,EAAE;MAAEA,MAAM,EAAE,GAAV;MAAeC,SAAS,EAAE,QAA1B;MAAoCC,YAAY,EAAE;IAAlD,CADT;IAEE,MAAM,EAAEC,OAAO,wCAFjB;IAGE,QAAQ,MAHV;IAIE,KAAK,EAAE,GAJT;IAKE,IAAI,EAAE,KALR;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EANF,EAaE,oBAAC,IAAD;IAAM,KAAK,EAAE;MAAEC,QAAQ,EAAE,EAAZ;MAAgBC,UAAU,EAAE;IAA5B,CAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,qBACiBtB,cADjB,2BACsDS,QADtD,CAbF,EAgBE,oBAAC,UAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,oBAAC,SAAD;IACE,KAAK,EAAEd,SAAS,CAACL,KADnB;IAEE,YAAY,EAAE,IAFhB;IAGE,UAAU,EAAE,EAHd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,EAME,oBAAC,UAAD;IACE,KAAK,EAAE;MAAE2B,MAAM,EAAE,GAAV;MAAeC,SAAS,EAAE;IAA1B,CADT;IAEE,MAAM,EAAEE,OAAO,qCAFjB;IAGE,QAAQ,MAHV;IAIE,KAAK,EAAE,GAJT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EANF,CAhBF,CAFF,CADF;AAmCD"},"metadata":{},"sourceType":"module"}